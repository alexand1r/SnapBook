@model AlbumDetailsServiceModel
@{
    ViewData["Title"] = $"Album {Model.Title}";
}

<h2>@Model.Title</h2>
@if (this.User.IsInRole(WebConstants.UserRole) && this.User.Identity.Name == Model.Username)
{
    <a asp-area="User" asp-controller="Albums" asp-action="Edit" asp-route-id="@Model.Id" class="btn btn-default">Edit</a>
}
<h4>@Model.CategoryName</h4>
<h4>by @Model.Username</h4>
<h3>@Model.Description</h3>

<a class="btn btn-success" asp-area="User" asp-controller="Albums" asp-action="AddPhoto" asp-route-albumid="@Model.Id">Add New Photo</a>

@if (Model.Photos.Any())
{
    foreach (var photo in Model.Photos)
    {
        
        <div>
            <a asp-controller="Photos" asp-action="Details" asp-route-id="@photo.Id">
                <img src="@photo.ImageUrl" width="100" alt="@photo.ImageUrl" />
            </a>
            @photo.PublishDate.ToShortDateString()
            @photo.Likes Likes
            @photo.Comments Comments
        </div>
        <br/>
    }
}
else
{
    <h3>This album has no photos yet.</h3>
}